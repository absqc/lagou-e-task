# Part1-2 作业

( 请在当前文件直接作答 )

## 简答题

### 1. 请说出下列最终执行结果，并解释为什么?

```javascript
var a = [];
for(var i = 0; i < 10; i++) {
  a[i] = function() {
    console.log(i)
  }
}
a[6]()
```
答: 10,因为这里执行a[6]()的时候，是读取的全局作用域中的i的值，此时i的值为10
　

　

### 2. 请说出此案列最终执行结果，并解释为什么?

```javascript
var tmp = 123;
if (true) {
  console.log(tmp);
  let tmp;
}
```
答：报错，ReferenceError，Cannot access 'tmp' before initialization,因为let 关键字申明的tmp具有块级作用域，在{}中形成了暂时性死区
　

　

### 3. 结合ES6语法，用最简单的方式找出数组中的最小值

```javascript
var arr = [12, 34, 32, 89, 4]
```
```javascript
  // 方法一：
  let min1 = Math.min(...arr)
  // 方法二：
 let min2 =  arr.reduce((pre,cur)=> {return pre < cur? pre:cur},arr[0])
```
　

　

### 4. 请详细说明var、let、const三种声明变量的方式之间的具体差别
var: 声明的是变量，只有全局作用域和函数作用域（不存在块级作用域）,存在变量提升，在声明语句之前使用时，值为undefined

let:ES6中新的变量声明方式，存在块级作用域，不存在变量提升，在声明语句之前访问会报错。在块级作用域内会形成一个暂时性死区，变量在声明之前访问都是不可用的。  
const:用于声明常量，声明时必须给初始值，对于字面量值来说，声明之后就不能做修改。对于引用类型来说，可以修改引用类型的属性，因为这里常量存的是引用类型的地址。它跟let一样存在块级作用域
　

　

### 5. 请说出下列代码最终输出结果，并解释为什么？

```javascript
var a = 10;
var obj = {
  a: 20,
  fn() {
    setTimeout(() => {
      console.log(this.a)
    })
  }
}
obj.fn()
```
答：10,setTimeout的回调函数在执行的时候，它的this指向全局的this，因此this.a的值为10

　

　

### 6. 简述Symbol类型的用途
Symbol表示独一无二的值，一般用途有以下几种：
1.可以用Symbol作为对象的属性名(key),
2.还可以使用Symbol代替常量
3.还可以使用Symbol定义类的私有属性/方法
　

　

### 7. 说说什么是浅拷贝，什么是深拷贝？

浅拷贝：对于字面量类型的数据来说，浅拷贝是对值的拷贝。对于引用类型来说，浅拷贝拷贝的只是对象在堆中的地址，拷贝前和拷贝后的变量指向同一片内存空间。  
深拷贝：不管是字面量类型还是引用类型，深拷贝都是对值的拷贝，拷贝前和拷贝后的值指向不同的内存空间，它们之间相互独立，互不影响。
　

　

### 8. 请简述TypeScript与JavaScript之间的关系？
答：TS是JS的超集，我们在TS仍然可以使用JS的语法；TS需要静态编译，它提供了强类型和更多面向对象的内容;TS经过编译会转换成弱类型的js；
　

　

### 9. 请谈谈你所认为的typescript优缺点
优点：1.增强代码的可读性和可维护性，强类型的语法支持在编译的时候发现大部分的错误  
      2.使用强类型语言，重构更加牢靠  
      3. 编码更加智能，编码更准确  
      4. 减少不必要的类型判断  

缺点：1.多了很多概念，提高了学习成本  
      2. 项目初期会增加一些成本
　

　

### 10. 描述引用计数的工作原理和优缺点
原理：跟踪记录每个值被引用的次数。当引用关系改变的时候修改引用数字，当值被引用时，引用数字加1，当值再被引用时，引用数字再加1，当值被减少引用时，引用数字减1，引用数字为0的时候立即被回收  
优点：可以及时回收垃圾对象，减少程序卡顿时间  
缺点：无法回收循环引用的对象，造成内存泄漏；同时需要对引用对象进行监听，资源消耗比较大

　

　

### 11. 描述标记整理算法的工作流程
答：1.标记：从根节点开始，遍历所有对象标记活动对象；  
    2.整理：把活动对象进行移动，移动到一片连续的内存空间；  
    3.清除：清除非活动对象；  
　

　

### 12.描述V8中新生代存储区垃圾回收的流程
答：在新生代存储区分为 from 和 to两块等大的区域。使用空间为from，空闲空间为to，活动空间存储于form空间，当from空间使用率达到一定的值的时候，就会对from空间的对象进行标记，标记出活动对象，然后再进行整理。整理后，就会将活动对象拷贝到to对象中，然后再将
from 和 to进行交换空间，交换完成之后释放掉to空间。
细节说明：在拷贝过程中可能出现晋升，晋升就是将新生代对象移动到老生代，一轮GC后还存活的新生代对象需要晋升为老生代对象。
 
　

　

### 13. 描述增量标记算法在何时使用及工作原理
答：增量标记算法一般在回收老生代对象时使用。工作原理：将一整段的垃圾回收拆分成多个步骤，在js空闲的时间完成垃圾回收，让垃圾回收和程序执行交替执行。
　

　